webpackJsonp([1],{"7Otq":function(t,e,n){t.exports=n.p+"static/img/logo.f97c116.png"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("Xrl+"),n("fLmE");var s=n("7+uW"),a=n("EOUi"),o=n.n(a),i=n("NYxO");s.a.use(i.a);var r=new i.a.Store({modules:{splitter:{namespaced:!0,state:{open:!1},mutations:{toggle:function(t,e){t.open="boolean"==typeof e?e:!t.open}}}}}),c=n("mtWM"),u=n.n(c),l={data:function(){return{api_url:"http://192.168.160.131:8000/api/",user:null,is_ready:!1,po_number:"",image_src:"",error:"",poList:[],showPoList:!1,selectedPo:[]}},methods:{logout:function(){this.$emit("replace-page",_)},scanDocument:function(){var t=this;t.po_number="",t.image_src="";var e={quality:20,destinationType:Camera.DestinationType.DATA_URL};navigator.camera.getPicture(function(e){t.image_src="data:image/jpeg;base64,"+e,TesseractPlugin.recognizeText(e,"eng",function(e){t.po_number=e},function(t){alert("Failed to recognize text: "+t)})},function(t){alert(t)},e)},submitData:function(){var t=this;u.a.get(t.api_url+"po",{params:{po_number:t.po_number}}).then(function(e){var n=e.data.status;t.selectedPo=[],0===n&&t.$ons.notification.alert({title:"",message:"PO #"+t.po_number+" is not released yet. Please release before proceed."}),1===n&&(t.poList=e.data.data,t.showPoList=!0),2===n&&(t.poList=e.data.data,t.showPoList=!0)}).catch(function(e){e.response&&(500===e.response.status&&(t.error=e.response.data.message),404===e.response.status&&(t.error="Page not found"))})},createNotification:function(){var t=this;this.$ons.notification.confirm("Are you sure?",{title:""}).then(function(e){1===e&&(t.showPoList=!1,t.$ons.notification.alert({title:"",message:"Notification for PO #"+t.po_number+" created"}))})},createInbound:function(){var t=this;this.$ons.notification.confirm("Are you sure?",{title:""}).then(function(e){1===e&&(t.showPoList=!1,t.$ons.notification.alert({title:"",message:"Inbound for PO #"+t.po_number+" created"}))})},grProcess:function(){_this.$ons.notification.alert({title:"",message:"Under development"})},saveData:function(){_this.showPoList=!1,_this.$ons.notification.alert({title:"",message:"GR completed. Material Document #"+_this.po_number+" created"})}},mounted:function(){var t=this;this.$ons.ready(function(){t.is_ready=!0,TesseractPlugin.loadLanguage("eng",function(t){},function(t){alert("Failed to load language: "+t)})})}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("div",{staticClass:"background"}),t._v(" "),n("div",{staticClass:"content"},[n("p",[n("v-ons-input",{staticClass:"po-number-input",model:{value:t.po_number,callback:function(e){t.po_number=e},expression:"po_number"}})],1),t._v(" "),n("p",[n("v-ons-button",{staticClass:"scan-document-btn",attrs:{disabled:t.is_ready},on:{click:function(e){return e.preventDefault(),t.scanDocument(e)}}},[t._v("SCAN PO")])],1),t._v(" "),n("p",[n("v-ons-button",{staticClass:"submit-data-btn",attrs:{disabled:!t.po_number},on:{click:function(e){return e.preventDefault(),t.submitData(e)}}},[t._v("SUBMIT")])],1),t._v(" "),t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()]),t._v(" "),n("v-ons-modal",{attrs:{visible:t.showPoList},on:{"update:visible":function(e){t.showPoList=e}}},[n("ons-list",[t._l(t.poList,function(e){return n("ons-list-item",[n("label",{staticClass:"left"},[n("v-ons-checkbox",{attrs:{"input-id":"checkbox-"+t.$index,value:e.material},model:{value:t.selectedPo,callback:function(e){t.selectedPo=e},expression:"selectedPo"}})],1),t._v(" "),n("label",{staticClass:"center"},[n("div",{staticClass:"list-item__title"},[t._v(t._s(e.material))]),t._v(" "),n("span",{staticClass:"list-item__subtitle"},[t._v("\n                        "+t._s(e.description)),n("br"),t._v(" "),n("strong",[t._v("Item: "+t._s(e.item)+" • Qty: "+t._s(e.qty)+" • Inbound: "),n("span",{class:e.inbound?"success":"danger"},[t._v(t._s(e.inbound?"YES":"NO"))])])])])])}),t._v(" "),n("ons-list-item",[n("v-ons-button",{staticClass:"full-width",on:{click:function(e){return e.preventDefault(),t.createNotification(e)}}},[t._v("Create Notification")]),t._v(" "),n("v-ons-button",{staticClass:"full-width",on:{click:function(e){return e.preventDefault(),t.createInbound(e)}}},[t._v("Create Inbound")]),t._v(" "),n("v-ons-button",{staticClass:"full-width",on:{click:function(e){return e.preventDefault(),t.grProcess(e)}}},[t._v("GR Process")]),t._v(" "),n("v-ons-button",{staticClass:"full-width",on:{click:function(e){e.preventDefault(),t.showPoList=!1}}},[t._v("Close")])],1)],2)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(l,p,!1,function(t){n("Yf7w")},"data-v-23e35b6b",null).exports,f={data:function(){return{api_url:"http://192.168.160.131:8000/api/",username:"",password:"",error:!1}},methods:{login:function(){if(this.username&&this.password)if(navigator.connection.type===Connection.WIFI){var t=this;t.error="Logging in...",u.a.post(t.api_url+"login",{username:t.username,password:t.password}).then(function(e){e.data.success?t.$emit("replace-page",{extends:d,data:function(){return{user:e.data.user}}}):t.error=e.data.message}).catch(function(e){e.response&&(500===e.response.status&&(t.error=e.response.data.message),404===e.response.status&&(t.error="Page not found"))})}else this.error="Please check your WiFi connection!"}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ons-page",[s("div",{staticClass:"background"}),t._v(" "),s("div",{staticClass:"content"},[s("img",{attrs:{src:n("7Otq")}}),s("br"),t._v(" "),s("strong",[t._v("DOCUMENT RECEIVING")]),s("br"),t._v(" "),s("div",{staticClass:"form"},[s("p",[s("v-ons-input",{staticClass:"full-width",attrs:{placeholder:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("p",[s("v-ons-input",{staticClass:"full-width",attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("p",[s("v-ons-button",{staticClass:"login-btn",on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("LOGIN")])],1),t._v(" "),t.error?s("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),s("br"),s("br"),t._v(" "),s("small",[t._v("© 2018 | GMF AeroAsia")])])])])},staticRenderFns:[]};var _=n("VU/8")(f,v,!1,function(t){n("fCPb")},"data-v-54a4b72c",null).exports,m={name:"app",data:function(){return{pageStack:[_]}}},b={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-ons-navigator",{attrs:{swipeable:"","page-stack":t.pageStack},on:{"push-page":function(e){t.pageStack.push(e)},"replace-page":function(e){t.pageStack.pop(),t.pageStack.push(e)}}})},staticRenderFns:[]};var g=n("VU/8")(m,b,!1,function(t){n("q6S1")},"data-v-5ffde510",null).exports;s.a.config.productionTip=!1,s.a.use(o.a),new s.a({el:"#app",store:r,template:"<App/>",components:{App:g}})},"Xrl+":function(t,e){},Yf7w:function(t,e){},fCPb:function(t,e){},fLmE:function(t,e){},q6S1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bca256b1c0efc65cbb1e.js.map